<!DOCTYPE html>
<html>

<head>
    <title>Settings</title>
    <link rel="stylesheet" href={{ url_for( 'static' , filename='style.css' ) }} />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script type="text/javascript">

        function toggleWidget(widget, local) {
            console.log("local", local)
            var wid = document.getElementById(widget)
            if (wid.style.display === "none") {
                wid.style.display = "block";
                localStorage.setItem(local, 'false');
            }
            else {
                wid.style.display = "none";
                localStorage.setItem(local, 'true');
            }
        }


        window.onload = function () {
            const ids = ["weather_info", "fun_fact", "nyt_result", "twitter", "nasa", "test"]
            const localList = ["w", "f", "n", "t", "nasa", "test"]
            var length = ids.length;

            //iterate for all ids
            for (var iter = 0; iter < length; iter++) {
                console.log(typeof ids[iter]);
                var wid = document.getElementById(ids[iter]);
                if (localStorage.getItem(localList[iter]) === 'true') {
                    console.log("list", localList[iter]);
                    wid.style.display = "none";
                }
                else {
                    wid.style.display = "block";
                }
            }
        }
    </script>
</head>

<body>


    <div id="nav">
        <a href="{{ url_for('home') }}"> Home</a>
        <a href="{{ url_for('users_entries') }}"> Entries</a>
        <a href="{{ url_for('settings') }}"> Settings</a>
        <a href="{{ url_for('signout') }}"> Log Out</a>
    </div>

    <h1> Select your preferred widgets. </h1>

    <button onClick="toggleWidget('weather_info', 'w')">Toggle Weather</button>
    <button onClick="toggleWidget('fun_fact', 'f')">Toggle Fun Fact</button>
    <button onClick="toggleWidget('nyt_result', 'n')">Toggle News</button>
    <button onClick="toggleWidget('twitter', 't')">Toggle Twitter Trends</button>
    <button onClick="toggleWidget('nasa', 'nasa')">Toggle Nasa Image</button>
    <button onClick="toggleWidget('test', 'test')">Toggle Test</button>

    <div id="test">
        <p>I AM THE TEST DIV :D</p>
    </div>
    <div id="weather_info">
        <p>weather_info</p>
    </div>
    <div id="fun_fact">
        <p>fun_fact</p>
    </div>
    <div id="nyt_result">
        <p>nyt_result</p>
    </div>
    <div id="twitter">
        <p>twitter</p>
    </div>
    <div id="nasa">
        <p>nasa</p>
    </div>

</body>

</html>